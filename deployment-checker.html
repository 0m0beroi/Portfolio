<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Deployment Checker</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .check-item {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 2px solid #e0e0e0;
        }
        .check-item.success {
            border-color: #4CAF50;
            background: #f1f8e9;
        }
        .check-item.error {
            border-color: #f44336;
            background: #ffebee;
        }
        .check-item.warning {
            border-color: #ff9800;
            background: #fff3e0;
        }
        .icon {
            font-size: 20px;
            margin-right: 15px;
            width: 25px;
        }
        .success .icon { color: #4CAF50; }
        .error .icon { color: #f44336; }
        .warning .icon { color: #ff9800; }
        .details {
            flex: 1;
        }
        .title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .description {
            font-size: 14px;
            color: #666;
        }
        .overall-status {
            text-align: center;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
        }
        .ready {
            background: #e8f5e8;
            color: #2e7d32;
            border: 2px solid #4caf50;
        }
        .not-ready {
            background: #ffebee;
            color: #c62828;
            border: 2px solid #f44336;
        }
        .action-buttons {
            text-align: center;
            margin-top: 30px;
        }
        .btn {
            display: inline-block;
            padding: 12px 24px;
            margin: 5px;
            background: #2196F3;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
        }
        .btn:hover {
            background: #1976D2;
        }
        .btn.secondary {
            background: #666;
        }
        .btn.secondary:hover {
            background: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🚀 Portfolio Deployment Checker</h1>
        
        <div id="checks-container">
            <!-- Checks will be populated by JavaScript -->
        </div>
        
        <div id="overall-status"></div>
        
        <div class="action-buttons">
            <a href="index.html" class="btn">View Portfolio</a>
            <a href="HOSTING.md" class="btn secondary">Hosting Guide</a>
            <a href="DEVELOPMENT.md" class="btn secondary">Development Guide</a>
        </div>
    </div>

    <script>
        const checks = [
            {
                id: 'personal-info',
                title: 'Personal Information',
                description: 'Check if personal details are updated in js/data.js',
                check: () => {
                    try {
                        const data = window.portfolioData?.personal;
                        if (!data) return { status: 'error', message: 'Portfolio data not found' };
                        
                        if (data.name === "Om Oberoi" && data.email === "om.oberoi@example.com") {
                            return { status: 'warning', message: 'Still using default information' };
                        }
                        return { status: 'success', message: 'Personal information updated' };
                    } catch (e) {
                        return { status: 'error', message: 'Could not check personal info' };
                    }
                }
            },
            {
                id: 'contact-info',
                title: 'Contact Information',
                description: 'Verify email and phone are updated',
                check: () => {
                    try {
                        const contact = window.portfolioData?.contact;
                        if (!contact) return { status: 'error', message: 'Contact data not found' };
                        
                        if (contact.email.includes('example.com') || contact.phone.includes('XXXXX')) {
                            return { status: 'warning', message: 'Update email and phone number' };
                        }
                        return { status: 'success', message: 'Contact information updated' };
                    } catch (e) {
                        return { status: 'error', message: 'Could not check contact info' };
                    }
                }
            },
            {
                id: 'social-links',
                title: 'Social Media Links',
                description: 'Check if social media URLs are updated',
                check: () => {
                    try {
                        const social = window.portfolioData?.contact?.socialLinks;
                        if (!social) return { status: 'error', message: 'Social links not found' };
                        
                        const hasPlaceholder = Object.values(social).some(link => link === '#');
                        if (hasPlaceholder) {
                            return { status: 'warning', message: 'Some social links still use placeholders (#)' };
                        }
                        return { status: 'success', message: 'Social media links updated' };
                    } catch (e) {
                        return { status: 'error', message: 'Could not check social links' };
                    }
                }
            },
            {
                id: 'images',
                title: 'Images',
                description: 'Check if images are properly loaded',
                check: () => {
                    const images = document.querySelectorAll('img');
                    let loadedImages = 0;
                    let totalImages = images.length;
                    
                    if (totalImages === 0) {
                        return { status: 'warning', message: 'No images found - add profile and project images' };
                    }
                    
                    images.forEach(img => {
                        if (img.complete && img.naturalHeight !== 0) {
                            loadedImages++;
                        }
                    });
                    
                    if (loadedImages === totalImages) {
                        return { status: 'success', message: `All ${totalImages} images loaded successfully` };
                    } else {
                        return { status: 'warning', message: `${loadedImages}/${totalImages} images loaded` };
                    }
                }
            },
            {
                id: 'responsive',
                title: 'Responsive Design',
                description: 'Check if site works on different screen sizes',
                check: () => {
                    const width = window.innerWidth;
                    if (width < 768) {
                        return { status: 'success', message: 'Mobile view - looks good!' };
                    } else if (width < 1024) {
                        return { status: 'success', message: 'Tablet view - responsive design working' };
                    } else {
                        return { status: 'success', message: 'Desktop view - layout optimized' };
                    }
                }
            },
            {
                id: 'performance',
                title: 'Performance',
                description: 'Basic performance checks',
                check: () => {
                    const loadTime = performance.timing.loadEventEnd - performance.timing.navigationStart;
                    if (loadTime < 3000) {
                        return { status: 'success', message: `Good load time: ${Math.round(loadTime)}ms` };
                    } else if (loadTime < 5000) {
                        return { status: 'warning', message: `Acceptable load time: ${Math.round(loadTime)}ms` };
                    } else {
                        return { status: 'error', message: `Slow load time: ${Math.round(loadTime)}ms - optimize images` };
                    }
                }
            },
            {
                id: 'navigation',
                title: 'Navigation',
                description: 'Check if navigation links work properly',
                check: () => {
                    const navLinks = document.querySelectorAll('nav a[href^="#"]');
                    let workingLinks = 0;
                    
                    navLinks.forEach(link => {
                        const targetId = link.getAttribute('href').substring(1);
                        const target = document.getElementById(targetId);
                        if (target) workingLinks++;
                    });
                    
                    if (workingLinks === navLinks.length) {
                        return { status: 'success', message: 'All navigation links working' };
                    } else {
                        return { status: 'warning', message: `${workingLinks}/${navLinks.length} nav links working` };
                    }
                }
            },
            {
                id: 'meta-tags',
                title: 'SEO Meta Tags',
                description: 'Check if essential meta tags are present',
                check: () => {
                    const title = document.querySelector('title');
                    const description = document.querySelector('meta[name="description"]');
                    const keywords = document.querySelector('meta[name="keywords"]');
                    
                    let score = 0;
                    let messages = [];
                    
                    if (title && title.textContent.trim()) {
                        score++; messages.push('Title tag ✓');
                    }
                    if (description && description.content.trim()) {
                        score++; messages.push('Description ✓');
                    }
                    if (keywords && keywords.content.trim()) {
                        score++; messages.push('Keywords ✓');
                    }
                    
                    if (score === 3) {
                        return { status: 'success', message: 'All SEO meta tags present' };
                    } else if (score >= 1) {
                        return { status: 'warning', message: `${score}/3 meta tags present` };
                    } else {
                        return { status: 'error', message: 'Missing SEO meta tags' };
                    }
                }
            }
        ];

        function runChecks() {
            const container = document.getElementById('checks-container');
            const statusDiv = document.getElementById('overall-status');
            
            let successCount = 0;
            let warningCount = 0;
            let errorCount = 0;
            
            checks.forEach(checkItem => {
                const result = checkItem.check();
                const div = document.createElement('div');
                div.className = `check-item ${result.status}`;
                
                const icon = result.status === 'success' ? '✅' : 
                           result.status === 'warning' ? '⚠️' : '❌';
                
                div.innerHTML = `
                    <div class="icon">${icon}</div>
                    <div class="details">
                        <div class="title">${checkItem.title}</div>
                        <div class="description">${result.message}</div>
                    </div>
                `;
                
                container.appendChild(div);
                
                if (result.status === 'success') successCount++;
                else if (result.status === 'warning') warningCount++;
                else errorCount++;
            });
            
            // Overall status
            const totalChecks = checks.length;
            const readyForDeployment = errorCount === 0 && warningCount <= 2;
            
            statusDiv.className = `overall-status ${readyForDeployment ? 'ready' : 'not-ready'}`;
            statusDiv.innerHTML = readyForDeployment ? 
                `🎉 Ready for Deployment!<br><small>${successCount}/${totalChecks} checks passed</small>` :
                `⚠️ Address Issues Before Deployment<br><small>${errorCount} errors, ${warningCount} warnings</small>`;
        }

        // Load portfolio data and run checks
        window.addEventListener('load', () => {
            // Try to load portfolio data
            const script = document.createElement('script');
            script.src = 'js/data.js';
            script.onload = () => {
                setTimeout(runChecks, 500); // Give time for data to load
            };
            script.onerror = () => {
                setTimeout(runChecks, 500); // Run checks even if data fails to load
            };
            document.head.appendChild(script);
        });
    </script>
</body>
</html>